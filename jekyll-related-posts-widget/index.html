<!DOCTYPE HTML>
<!-- Microdata markup added by Google Structured Data Markup Helper. -->
<html lang="en">
	<head>       
		<meta charset=utf-8>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
		<title>Exit Status One - Jekyll: Related and Recent Posts Widget</title>
		<meta name="author" content="Brenton Earl" />
		
		<meta name="description" content="Short article discussing the code behind a widget that adds a small blurb with links to related posts and categories to a page or post." />
		
		
		<meta name="keywords" content="jekyll" />
		
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
		<link rel="stylesheet" herf="/css/styles.css" type="text/css">
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<p class="navbar-brand" href="#">Menu</p>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li><a href="/" title=" Index">Home</a></li>
						
						
						
						<li><a href="/about.html" title="About the Author">About</a></li>
						
						
						
						<li><a href="/archive.html" title="Site Archives">Archives</a></li>
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<li><a href="/rss.xml" title="RSS News Feed">News Feed</a></li>
						
						
						
						
					</ul>
				</div>
			</div>
		</nav>
		<header>
			<div class="container">
				<div class="page-header">
					<h1>Exit Status One</h1>
					<small>while : ; do echo 'Tinker, explore, hack, learn...' ; sleep 28800 ; clear ; done</small>
				</div>
			</div>
		</header>
	
		<div class="container">
					<div class="row">
				<div class="col-sm-8">
					<article itemscope itemtype="http://schema.org/Article">
						<h4 itemprop="name">Jekyll: Related and Recent Posts Widget</h4>
						<p>
							<span itemprop="datePublished" content="07-26-2013">							
								07-26-2013
							</span>
							 by 
							<a href="https://plus.google.com/+Exitstatusone" rel="publisher">
								<span itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
									<span itemprop="name">Brenton Earl</span>
								</span>
							</a>
						</p>
						

						<p>
						Category <a href="/categories/jekyll/">jekyll</a>
						</p>
						<span itemprop="articleBody">
							<p>Creating a web site that is easily navigated is important.  It is also important to make it easy for viewers to find content that is related to what they are reading.  I wrote a piece of code that can be nested inside a page or post, preferably a page/post that has a category set.  The code will check if the current page has a category and inserts links to other pages with the same category.  It also adds a list to the most recent posts on the web site.  I added it inside a div tag and floated it right, works well.</p>

<h4>Related Categories</h4>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;h4&gt;</span>Related Posts<span class="nt">&lt;/h4&gt;</span>
{% for post in site.posts %}
  {% for category in post.category %}
    {% if category == page.category %}
      {% if post.title != page.title %}
      <span class="nt">&lt;p&gt;</span>
        <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{ post.url }}&quot;</span> <span class="na">rel=</span><span class="s">&quot;bookmark&quot;</span> <span class="na">title=</span><span class="s">&quot;Permanent link to &quot;</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>
        <span class="nt">&lt;span&gt;</span>{{ post.date | date: %B }} {{ post.date | date: %e }}, {{ post.date | date: %Y }}<span class="nt">&lt;/span&gt;</span>
      <span class="nt">&lt;/p&gt;</span>
      {% endif %}
    {% endif %}
  {% endfor %}
{% endfor %}</code></pre></div>


<ol>
<li>Loop through all of the posts on the web site</li>
<li>Open each post and find it's category</li>
<li>If the Category of the current page matches, add it to the list</li>
<li>If the Title of the current page matches the page in the list, remove it. (There is no reason to list a link to the current page.)</li>
<li>Create a link with the post's corresponding URL, date and title</li>
</ol>


<p>The only problem with this code is that if you have 500 posts with the same category name, the list will expand down the page and push your post content out of the way.  I will have to fix this another time, provided it becomes an issue.</p>

<h4>Recent Posts</h4>

<div class="highlight"><pre><code class="language-html" data-lang="html"><span class="nt">&lt;h4&gt;</span>Latest Posts<span class="nt">&lt;/h4&gt;</span>
{% for post in site.posts limit:4 %}
{% if post.title != page.title %}
<span class="nt">&lt;p&gt;</span>
<span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;{{ post.url }}&quot;</span> <span class="na">rel=</span><span class="s">&quot;bookmark&quot;</span> <span class="na">title=</span><span class="s">&quot;{{ post.title }}&quot;</span><span class="nt">&gt;</span>{{ post.title }}<span class="nt">&lt;/a&gt;</span>
<span class="nt">&lt;span&gt;</span>{{ post.date | date: &#39;%B&#39; }} {{ post.date | date: &#39;%e&#39; }}<span class="nt">&lt;/span&gt;</span>
<span class="nt">&lt;/p&gt;</span>
{% endif %}
{% endfor %}</code></pre></div>


<ol>
<li>Loop through all of the posts on the web site, but only keep the 3 most recent posts</li>
<li>List each page, but omit the page if it has the same title as the current page</li>
<li>Create a link for each post, with it's corrensponding URL, Title, and Date</li>
</ol>


<p>This works great unless the current page is a recent post.  If the current page comes up as one of the last 4 posts, then this code will only show the last three current posts.</p>

<hr />

<p>With that, please be sure to check the blurb at the top right of the page that shows recent and similar posts!  Thanks for reading.</p>

						</span>
					</article>
				</div>
				<div class="col-sm-4">
				<div class="list-group">
	<h4 class="list-group-item">Related Posts</h4>
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
				
			
		
	
		
			
				
					<a class="list-group-item" href="/example-jekyll-site-build/" title="Learn to build your own Jekyll Website">Learn to build your own Jekyll Website</a>
				
			
		
	
		
			
		
	
		
			
				
					<a class="list-group-item" href="/jekyll-metadata-navigation-archives/" title="Jekyll -  Metadata, Navigation, and Archives">Jekyll -  Metadata, Navigation, and Archives</a>
				
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
				
					<a class="list-group-item" href="/jekyll-modifications/" title="Jekyll: Pagination, Site Map and 404 Redirects">Jekyll: Pagination, Site Map and 404 Redirects</a>
				
			
		
	
		
			
				
					<a class="list-group-item" href="/new-site-design/" title="New Site Design">New Site Design</a>
				
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
</div>


				</div>
			</div>
			<br /><br />
<p><strong>If you feel the information here is outdated or incorrect, you can submit a <a href="https://github.com/BrentonEarl/brentonearl.github.io/edit/source/_posts/2013-07-26-jekyll-related-posts-widget.markdown">Pull Request on Github!</a></strong></p>

			
<div class="row">
	<div class="col-sm-8">
		<div id="disqus_thread" style="padding:1%;"></div>
		<script type="text/javascript">
		var disqus_shortname = 'exitstatusone';
		(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	</div>
</div>



		</div>
	
		<footer>
			<div class="container">
				<div class="row">
					<div class="col-sm-8">
						<p class="footer">
						&copy; 2012-2015 Brenton Earl. Powered by <a href="http://jekyllrb.com/" title="Jekyllrb">Jekyll</a>.
						</p>
					</div>
				</div>
			</div>
		</footer>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	</body>
</html>
