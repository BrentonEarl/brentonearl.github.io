<!DOCTYPE HTML>
<html lang="en">
	<head>       
		<meta charset=utf-8>
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
		<title>Exit Status One - Creating a Minimal Debian Live System</title>
		<meta name="author" content="Brenton Earl" />
		
		<meta name="description" content="Learn how to create a basic live system image that can be booted from CD, DVD, USB or SDCard.  This article shows how easy it is to build a custom operating system specific to your individual needs." />
		
		
		<meta name="keywords" content="linux" />
		
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
		<link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">
		<link rel="stylesheet" herf="/css/styles.css" type="text/css">
		<!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
		<!--[if lt IE 9]>
		<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
		<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
		<![endif]-->
	</head>
	<body>
		<nav class="navbar navbar-inverse navbar-static-top" role="navigation">
			<div class="container">
				<div class="navbar-header">
					<button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
						<span class="sr-only">Toggle navigation</span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
						<span class="icon-bar"></span>
					</button>
					<p class="navbar-brand" href="#">Menu</p>
				</div>
				<div class="navbar-collapse collapse">
					<ul class="nav navbar-nav">
						<li><a href="/" title=" Index">Home</a></li>
						
						
						
						<li><a href="/about.html" title="About the Author">About</a></li>
						
						
						
						<li><a href="/archive.html" title="Site Archives">Archives</a></li>
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						
						<li><a href="/rss.xml" title="RSS News Feed">News Feed</a></li>
						
						
						
						
					</ul>
				</div>
			</div>
		</nav>
		<header>
			<div class="container">
				<div class="page-header">
					<h1>Exit Status One</h1>
					<small>while : ; do echo 'Tinker, explore, hack, learn...' ; sleep 28800 ; clear ; done</small>
				</div>
			</div>
		</header>
	
		<div class="container">
					<div class="row">
				<div class="col-sm-8">
						<article itemscope itemtype="http://schema.org/Article">
						<h4 itemprop="name">Creating a Minimal Debian Live System</h4>
						<p>
							<span itemprop="datePublished" content="02-29-2012">02-29-2012</span> by 
								<a href="https://plus.google.com/+Exitstatusone" rel="publisher">Brenton Earl</a>
							</span>
						</p>
						

						<p>
						Category <a href="/categories/linux/">linux</a>
						</p>
						<span itemprop="articleBody">
							<p>In this article I will walk through the steps required to make a Minimal Debian Live CD.  I will show you how to add WiFi drivers, choose the kernel architecture, and add packages for each Live CD you are creating.  It is important to note that this is an introductory article on how to use the Debian Live live-build scripts.  <a href="http://packages.debian.org/squeeze/live-build">Live-build</a> is the name of the package you will need to install in order to build Live CDs on your Debian operating system.  Another important fact to note is that I am using a Debian Squeeze system to build this Live CD.</p>

<p><strong>Installation Requirements from Debian Live Manual:</strong></p>

<ol>
<li>Root Access</li>
<li>live-build</li>
<li>Bash or Dash</li>
<li>debootstrap or cdebootstrap</li>
<li>Optionally install live-manual</li>
</ol>


<p><strong>Step 1:  Install live-build</strong></p>

<p>There are a number of different ways to install the live-build package.  You can choose to install from a snapshot, source code, or the Debian repository.  I will be using live-build version 2.0.12-2 from the Debian repositories.  Using the repositories is the easiest way to get your live cd creation off to a quick start.</p>

<ul>
<li>Install the live-build package</li>
</ul>


<p>sudo aptitude install live-build</p>

<p><strong>Step 2: Install live-manual</strong></p>

<p>This tutorial covers only a small portion of the capabilities of the live-build package. If you wish to learn how to use live-build in full, you should consider installing the full documentation. This is an optional step, as you should be able to build a basic minimal Debian Live CD from this tutorial.</p>

<ul>
<li>Install the live-manual package</li>
</ul>


<p>sudo aptitude install live-manual</p>

<p><strong>Step 3: Decide on a Build Directory</strong></p>

<p>t is important to decide on a clean target directory to build your live cd. We will be running live-build scripts that generate files and directories used to configure the build process of the final ISO image of your Live CD. If you do not choose a clean build directory, things could get a little messy and confusing.</p>

<p><strong>Good Locations:</strong></p>

<ul>
<li>Your user’s /home Directory</li>
<li>Your user’s Desktop directory</li>
<li>The /root folder</li>
<li>The /tmp Directory</li>
</ul>


<p><strong>Step 4: Configuration Options</strong></p>

<p>Here I will show and explain some of the configuration options used to generate your live-build directories. The command to invoke the scripts for live-build is the abbreviation lb. If you type in live-build and hit enter you will be presented with the man page for live-build. Configuration options are invoked using the command lb config, followed by each option.</p>

<p><strong>Configuration Options Used in this Tutorial</strong></p>

<ul>
<li>–distribution</li>
<li>Used to select Debian distribution. ie. lenny, squeeze, wheezy, sid</li>
<li>–hostname</li>
<li>Sets the hostname of the resulting live cd system</li>
<li>–username</li>
<li>Sets the user name of the live cd user</li>
<li>–package-lists</li>
<li>Available options: debian-forensics, debian-live-devel, debian-live-pxe-server, debian-science, gnome, gnome-core, gnome-desktop, gnome-full, kde, kde-core, kde-desktop, kde-extra, kde-full, lxde, lxde-desktop, minimal, rescue, standard, standard-x11, xfce, xfce-desktop</li>
<li>–packages</li>
<li>Additonal packages</li>
<li>–archive-areas</li>
<li>Which sections of the debian mirror archive you will use</li>
<li>–apt-recommends</li>
<li>Sets if you will use recommended packages</li>
<li>–includes</li>
<li>Sets whether to include standard files from Debian live</li>
<li>–binary-indices</li>
<li>Saves space by leaving APT’s indices out of final ISO</li>
</ul>


<p>You will need to open a terminal and execute the lb config command.  To execute a configuration with the above options of the lb command you will use the following format:</p>

<ul>
<li>sudo lb config –distribution squeeze –hostname exitstatusone –username alk3 –packages-lists minimal –packages “firmware-brcm80211″ –archive-areas “main contrib non-free” –apt-recommends false –includes none –binary-indices false</li>
</ul>


<p>Note:  I included the additional package firmware-brcm80211 in my command because my system has a Broadcom 4313 Network card.  You will need to find the correct package name for your WiFi card and replace firmware-brcm80211 with the appropriate package.</p>

<p><strong>Step 5:</strong></p>

<p>You will notice that there were a number of files generated when you executed the lb config command.  Please note that editing these files manually can be done, but it is best that you run the lb config command to edit the files to avoid erroneous edits.</p>

<p>Now we will execute the <em>lb build</em> command and watch as the terminal window flows downward while the build process commences.</p>

<ul>
<li>sudo lb build</li>
</ul>


<p>The build process will take quite a while to execute and complete. If you are curious, by all means watch the whole process, but it may get boring. When the build process is complete you should end up with an ISO image in the root of your build directory.</p>

<p>For further reading please install the live-manual package. You can find the relevant documentation in /usr/share/doc/live-manual on your system after you install it.</p>

<p>References:</p>

<ul>
<li><a href="http://live.debian.net/">http://live.debian.net/</a></li>
<li><a href="http://packages.debian.org/squeeze/live-build">http://packages.debian.org/squeeze/live-build</a></li>
<li><a href="http://packages.debian.org/squeeze/live-manual">http://packages.debian.org/squeeze/live-manual</a></li>
</ul>


						</span>
					</article>
				</div>
				<div class="col-sm-4">
				<div class="list-group">
	<h4 class="list-group-item">Related Posts</h4>
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
		
	
		
			
				
					<a class="list-group-item" href="/backports-upgrade-iceweasel/" title="Debian Backports - Upgrade Iceweasel to a Newer Version">Debian Backports - Upgrade Iceweasel to a Newer Version</a>
				
			
		
	
		
			
				
			
		
	
		
			
		
	
		
			
		
	
		
			
				
					<a class="list-group-item" href="/upgrade-debian-squeeze-kernel-to-version-3.2/" title="Upgrade Debian Squeeze to Backports Kernel Version 3.2">Upgrade Debian Squeeze to Backports Kernel Version 3.2</a>
				
			
		
	
		
			
		
	
		
			
				
					<a class="list-group-item" href="/command-line-desktop-debian/" title="Full CLI Desktop in Debian Linux">Full CLI Desktop in Debian Linux</a>
				
			
		
	
		
			
				
					<a class="list-group-item" href="/broadcom-4313-wifi-debian-linux/" title="Broadcom 4313 WiFi Debian Linux">Broadcom 4313 WiFi Debian Linux</a>
				
			
		
	
</div>


				</div>
			</div>
			<br /><br />
<p><strong>If you feel the information here is outdated or incorrect, you can submit a <a href="https://github.com/BrentonEarl/brentonearl.github.io/edit/source/_posts/2012-02-29-create-minimal-debian-live-system.markdown">Pull Request on Github!</a></strong></p>

			
<div class="row">
	<div class="col-sm-8">
		<div id="disqus_thread" style="padding:1%;"></div>
		<script type="text/javascript">
		var disqus_shortname = 'exitstatusone';
		(function() {
		var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
		dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
		(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
		})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
		<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
	</div>
</div>



		</div>
	
		<footer>
			<div class="container">
				<div class="row">
					<div class="col-sm-8">
						<p class="footer">
						&copy; 2014 Brenton Earl. Powered by <a href="http://jekyllrb.com/" title="Jekyllrb">Jekyll</a>.
						</p>
					</div>
				</div>
			</div>
		</footer>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
	</body>
</html>
